# О туториале
В этом туториале мы будем создавать бота шаг за шагом, и узнаем все, 
как использовать все возможности платформы, для создания ботов любой 
сложности.

(Туториал в процессе создания)

# Часть 1

#### Создадим бота для телеграма

1. Сначала надо зарегистрировать бота, для этого откройте чат с [@BotFather](https://web.telegram.org/#/im?p=@BotFather) 
и введите команду `/start` если общаетесь с ним впервые
1. Введите команду `/newbot` и следуйте дальнейшим инструкциям. 
1. Спросят как его назвать, спросят каким будет его идентификатор.
1. Когда все будет готово у вас будет токен, похожий на `233259927:AAGIO9DeOK4EeIj4MdybEA3mllrxufHjoAE` - сохраните его.

#### Все готово, для того чтобы начать создавать конфигурацию.

1. Откройте ваш любимый текстовый редактор, будет прекрасно если он умеет подсвечивать синтаксис **YAML**.
1. Создайте новый документ. Перед тем, как приступить к туториалу, изучите синтаксис **YAML**. Можно здесь: 
[синтаксис на википедии](https://ru.wikipedia.org/wiki/YAML)
1. И, первое, что надо прописать в нем — токен вашего бота.

```
---

  bots:
    telegram:
      token: 233259927:AAGIO9DeOK4EeIj4MdybEA3mllrxufHjoAE
```

#### С авторизацией покончено. Теперь можно научить бота чему-нибудь полезному.

Научим его реагировать на самую первую команду `/start`

Будем использовать один из самых простых *api* - *simple api*.

#### Опишем конфигурацию для данного api.

```
# В секции api, мы создаем различные сервисы для бота, их может быть несколько
api:
  # Зададим имя для api: "echoer"
  echoer:
    # Укажем, что в качестве сервисы мы выбираем "simple" - простой ввод/вывод
    service: simple
    # Укажем, какие должны быть "actions"
    # actions - это те элементы, которые будут выводиться пользователю
    # у каждого экшена должно быть задано имя, по этому имени его можно
    # вызывать из конфигурации команд
    actions:
      # имя action - "hello"
      # каждый action это список, содержащий в себе разные элементы
      # в данном случае - простой текст
      hello:
        # тип элемента - "text", и аттрибут - "answer", 
        # в котором содержится ответ пользователю.
        - type: text
          answer: Привет, это туториал бот для платформы BaaS. Пишите ему что хотите, а он будет повторять это
    # Укажем, какие должны обрабатываться команды
    # Команды — это слова, начинающиейся с "/" (в телеграме)
    commands:
      # Означает, что бот будет реагировать на команду "/start"
      start:
        # Здесь перечисляются экшены по именам (все экшены мы задали выше)
        actions:
          # Опишем, что выводить пользователю нужно экшен под именем "hello"
          - hello
```

#### А теперь, давайте заставим его повторять все, что мы ему написали.

Для этого добавим ему такую логику:
в actions:

     echo:
       - type: text
         answer: $text

и в echoer:

     messages:
       any:
         actions:
           - echo

В итоге у нас получилась такая конфигурация:

```
---

  bots:
    telegram:
      token: 233259927:AAGIO9DeOK4EeIj4MdybEA3mllrxufHjoAE

  api:
    echoer:
      service: simple
      actions:
        hello:
          - type: text
            answer: Привет, это туториал бот для платформы BaaS. Пишите ему что хотите, а он будет повторять это
        echo:
          - type: text
            answer: $text
      commands:
        start:
          actions:
            - hello
      messages:
        any:
          actions:
            - echo
```

Загрузите эту конфигурацию, используя бот @baas_main_manager_bot (у вас должен быть к нему доступ)

Не забудьте активировать вебхук.

# Часть 2

Мы разобрались, как создать простейшего бота. Теперь давайте научим его
чему-нибудь более интересному.

